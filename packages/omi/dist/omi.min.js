!function(){"use strict";function t(){}function e(e,n){var r,o,i,s,a=tt;for(s=arguments.length;s-- >2;)Z.push(arguments[s]);n&&null!=n.children&&(Z.length||Z.push(n.children),delete n.children);while(Z.length)if((o=Z.pop())&&void 0!==o.pop)for(s=o.length;s--;)Z.push(o[s]);else"boolean"==typeof o&&(o=null),(i="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o+="":"string"!=typeof o&&(i=!1)),i&&r?a[a.length-1]+=o:a===tt?a=[o]:a.push(o),r=i;var c=new t;return c.nodeName=e,c.children=a,c.attributes=null==n?void 0:n,c.key=null==n?void 0:n.key,void 0!==Q.vnode&&Q.vnode(c),c}function n(t){var e=document.createElement("style");return e.textContent=t,e}function r(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function o(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){if(!t||s(t))return{};var e={};return Object.keys(t).forEach(function(n){e[n]=t[n].value}),e}function c(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&l(t,e.nodeName):n||t._componentConstructor===e.nodeName}function l(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function u(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}function p(t){var e=t.parentNode;e&&e.removeChild(t)}function f(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)i(n,null),i(r,t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var s in n)s in r||(t.style[s]="");for(var s in r)t.style[s]="number"==typeof r[s]&&!1===et.test(s)?r[s]+"px":r[s]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||(t.addEventListener(e,h,a),"tap"==e&&(t.addEventListener("touchstart",d,a),t.addEventListener("touchstart",v,a))):(t.removeEventListener(e,h,a),"tap"==e&&(t.removeEventListener("touchstart",d,a),t.removeEventListener("touchstart",v,a))),(t.__l||(t.__l={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var c=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?c?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"string"==typeof r&&(c?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function h(t){return this.__l[t.type](Q.event&&Q.event(t)||t)}function d(t){this.F=t.touches[0].pageX,this.G=t.touches[0].pageY,this.H=document.body.scrollTop}function v(t){Math.abs(t.changedTouches[0].pageX-this.F)<30&&Math.abs(t.changedTouches[0].pageY-this.G)<30&&Math.abs(document.body.scrollTop-this.H)<30&&this.dispatchEvent(new CustomEvent("tap",{detail:t}))}function y(t,e,n,r,o,i){var a;if(nt++||(rt=null!=o&&void 0!==o.ownerSVGElement,ot=null!=t&&!("__preactattr_"in t)),s(e)){a=[];var c=null;if(s(t)){var l=t.length,u=e.length,p=l>=u?l:u;c=t[0].parentNode;for(var f=0;f<p;f++)a.push(b(t[f],e[f],n,r,i))}else e.forEach(function(e){a.push(b(t,e,n,r,i))});o?a.forEach(function(t){o.appendChild(t)}):s(t)&&t.forEach(function(t){c.appendChild(t)})}else a=s(t)?b(t[0],e,n,r,i):b(t,e,n,r,i),o&&a.parentNode!==o&&o.appendChild(a);return--nt||(ot=!1),a}function b(t,e,n,r,o){t&&e&&t.props&&(t.props.children=e.children);var i=t,s=rt;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),m(t,!0))),i.t=!0,i;var a=e.nodeName;if(rt="svg"===a||"foreignObject"!==a&&rt,a+="",(!t||!l(t,a))&&(i=u(a,rt),t)){while(t.firstChild)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),m(t,!0)}var c=i.firstChild,p=i.t,f=e.children;if(null==p){p=i.t={};for(var h=i.attributes,d=h.length;d--;)p[h[d].name]=h[d].value}return!ot&&f&&1===f.length&&"string"==typeof f[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=f[0]&&(c.nodeValue=f[0]):(f&&f.length||null!=c)&&("WeElement"==i.constructor.is&&i.constructor.noSlot||g(i,f,n,r,ot||null!=p.dangerouslySetInnerHTML)),O(i,e.attributes,p),i.props&&(i.props.children=e.children),rt=s,i}function g(t,e,n,r,o){var i,s,a,l,u,f=t.childNodes,h=[],d={},v=0,y=0,g=f.length,w=0,O=e?e.length:0;if(0!==g)for(var j=0;j<g;j++){var x=f[j],C=x.t,E=O&&C?x._component?x._component.__k:C.key:null;null!=E?(v++,d[E]=x):(C||(void 0!==x.splitText?!o||x.nodeValue.trim():o))&&(h[w++]=x)}if(0!==O)for(var j=0;j<O;j++){l=e[j],u=null;var E=l.key;if(null!=E)v&&void 0!==d[E]&&(u=d[E],d[E]=void 0,v--);else if(!u&&y<w)for(i=y;i<w;i++)if(void 0!==h[i]&&c(s=h[i],l,o)){u=s,h[i]=void 0,i===w-1&&w--,i===y&&y++;break}u=b(u,l,n,r),a=f[j],u&&u!==t&&u!==a&&(null==a?t.appendChild(u):u===a.nextSibling?p(a):t.insertBefore(u,a))}if(v)for(var j in d)void 0!==d[j]&&m(d[j],!1);while(y<=w)void 0!==(u=h[w--])&&m(u,!1)}function m(t,e){null!=t.t&&t.t.ref&&t.t.ref(null),!1!==e&&null!=t.t||p(t),w(t)}function w(t){t=t.lastChild;while(t){var e=t.previousSibling;m(t,!0),t=e}}function O(t,e,n){var o,i=!1,s=t.update;for(o in n)e&&null!=e[o]||null==n[o]||(f(t,o,n[o],n[o]=void 0,rt),s&&(delete t.props[o],i=!0));for(o in e)s&&"object"==typeof e[o]?(t.props[r(o)]=e[o],i=!0):"children"===o||"innerHTML"===o||o in n&&e[o]===("value"===o||"checked"===o?t[o]:n[o])||(f(t,o,n[o],n[o]=e[o],rt),s&&(t.props[r(o)]=e[o],i=!0));t.parentNode&&i&&s&&t.update()}function j(t,e){st.push({fn:t,scope:e})}function x(){st.forEach(function(t){t.fn.call(t.scope)}),at.forEach(function(t){t.fn.call(t.scope)}),at.length=0}function C(t,e){at.push({fn:t,scope:e})}function E(t){t.observe=!0}function T(t){var e=null;t.data=new it(t.data).observe(!1,function(){ct[t.I]||(ct[t.I]=!0,lt.push(t),clearTimeout(e),e=setTimeout(function(){P()},0))})}function P(){lt.forEach(function(t){t.update()}),x(),lt.length=0,ct={}}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t,e,n){if(e="string"==typeof e?document.querySelector(e):e,n){n.instances=[],R(n);var r=null,o={};n.data=new it(n.data).observe(!1,function(t){if(clearTimeout(r),"remove"===t.op){var e=D(t.path,n);o[e.k]=e.v,r=setTimeout(function(){A(o,n),o={}},0)}else{var i=H(t.path);o[i]=t.value,r=setTimeout(function(){A(o,n),o={}},0)}}),e.store=n}return y(null,t,{},!1,e,!1)}function A(t,e){e.update(t)}function R(t){t.update=function(t){var e=this,n=S(this.globalData,t);Object.keys(t).length>0&&(this.instances.forEach(function(r){(n||e.updateAll||r.constructor.updatePath&&L(t,r.constructor.updatePath))&&r.update()}),this.onChange&&this.onChange(t))}}function S(t,e){if(!t)return!1;for(var n in e){if(t.indexOf(n)>-1)return!0;for(var r=0,o=t.length;r<o;r++)if(I(n,t[r]))return!0}return!1}function L(t,e){for(var n in t){if(e[n])return!0;for(var r in e)if(I(n,r))return!0}return!1}function I(t,e){if(0===t.indexOf(e)){var n=t.substr(e.length,1);if("["===n||"."===n)return!0}return!1}function H(t){var e="";return t.replace("/","").split("/").forEach(function(t,n){n?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t}),e}function D(t,e){for(var n=t.replace("/","").split("/"),r=e.data[n[0]],o=1,i=n.length;o<i-1;o++)r=r[n[o]];return{k:W(t),v:r}}function W(t){var e="",n=t.replace("/","").split("/"),r=n.length;return n.forEach(function(t,n){n<r-1&&(n?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t)}),e}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function U(t,e){if("WeElement"===e.is)customElements.define(t,e),e.data&&!e.pure&&(e.updatePath=Y(e.data));else{var r=function(t){function r(){var e,n,o;B(this,r);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=n=F(this,t.call.apply(t,[this].concat(s))),n.C=0,n.D={},o=e,F(n,o)}return V(r,t),r.prototype.render=function(t,n){return e.call(this,t,n)},r.prototype.beforeRender=function(){this.C=0},r.prototype.useCss=function(t){var e=this.shadowRoot.querySelector("style");e&&this.shadowRoot.removeChild(e),this.shadowRoot.appendChild(n(t))},r.prototype.useData=function(t){return this.use({data:t})},r.prototype.use=function(t){var e=this;this.C++;var n=function t(n){var r=e.D[t.id];r.data=n,e.update(),r.effect&&r.effect()};return n.id=this.C,this.B?[this.D[this.C].data,n]:(this.D[this.C]=t,[t.data,n])},r.prototype.installed=function(){this.B=!0},r}(pt);customElements.define(t,r)}}function Y(t){var e={};return J(t,e),e}function J(t,e){Object.keys(t).forEach(function(n){e[n]=!0;var r=Object.prototype.toString.call(t[n]);"[object Object]"===r?G(t[n],n,e):"[object Array]"===r&&q(t[n],n,e)})}function G(t,e,n){Object.keys(t).forEach(function(r){n[e+"."+r]=!0,delete n[e];var o=Object.prototype.toString.call(t[r]);"[object Object]"===o?G(t[r],e+"."+r,n):"[object Array]"===o&&q(t[r],e+"."+r,n)})}function q(t,e,n){t.forEach(function(t,r){n[e+"["+r+"]"]=!0,delete n[e];var o=Object.prototype.toString.call(t);"[object Object]"===o?G(t,e+"["+r+"]",n):"[object Array]"===o&&q(t,e+"["+r+"]",n)})}function X(t,e){return function(n){n.pure=e,U(t,n)}}function $(t,n){return e(t.nodeName,o(o({},t.attributes),n),arguments.length>2?[].slice.call(arguments,2):t.children)}function z(t){var e=t.parentNode;while(e){if(e.host)return e.host;e=e.parentNode}}function K(t){return t.replace(/([1-9]\d*|0)(\.\d*)*rpx/g,function(t,e){return window.innerWidth*+e/750+"px"})}var Q={store:null,root:function(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:self||window||global||function(){return this}()}()},Z=[],tt=[];!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.hasOwnProperty("polyfillWrapFlushCallback")){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),"function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var et=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,nt=0,rt=!1,ot=!1,it=function(){function t(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function e(t){return-1==t.indexOf("/")&&-1==t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function n(t,e){var n=[],r=t.parenthoodMap.get(e);while(r&&r.path)n.unshift(r.path),r=t.parenthoodMap.get(r.parent);if(n.length){return"/"+n.join("/")}return""}function r(t,r,o,i){var s=n(t,r),a=s+"/"+e(o);if(t.proxifiedObjectsMap.has(i)){t.parenthoodMap.set(t.proxifiedObjectsMap.get(i).originalObject,{parent:r,path:o})}var c=t.proxifiedObjectsMap.get(i);c&&!t.isProxifyingTreeNow&&(c.inherited=!0),i&&"object"==typeof i&&!t.proxifiedObjectsMap.has(i)&&(t.parenthoodMap.set(i,{parent:r,path:o}),i=t.A(r,i,o));var l={op:"remove",path:a};if(void 0===i){if(!Array.isArray(r)&&!r.hasOwnProperty(o))return Reflect.set(r,o,i);Array.isArray(r)&&(l.op="replace",l.value=null);var u=t.proxifiedObjectsMap.get(r[o]);u&&(t.parenthoodMap.delete(r[o]),t.disableTrapsForProxy(u),t.proxifiedObjectsMap.delete(u))}else{if(Array.isArray(r)&&!Number.isInteger(+(""+o)))return"length"!=o&&console.warn("JSONPatcherProxy noticed a non-integer prop was set for an array. This will not emit a patch"),Reflect.set(r,o,i);l.op="add",r.hasOwnProperty(o)&&(void 0!==r[o]||Array.isArray(r))&&(l.op="replace"),l.value=i}l.oldValue=r[o];var p=Reflect.set(r,o,i);return t.defaultCallback(l),p}function o(t,r,o){if(void 0!==r[o]){var i=n(t,r),s=i+"/"+e(o),a=t.proxifiedObjectsMap.get(r[o]);a&&(a.inherited?a.inherited=!1:(t.parenthoodMap.delete(a.originalObject),t.disableTrapsForProxy(a),t.proxifiedObjectsMap.delete(r[o])));var c=Reflect.deleteProperty(r,o);return t.defaultCallback({op:"remove",path:s}),c}}function i(){var t=this;this.defaultCallback=function(e){t.isRecording&&t.patches.push(e),t.userCallback&&t.userCallback(e)},this.isObserving=!0}function s(){this.defaultCallback=function(){},this.isObserving=!1}function a(t,e){this.isProxifyingTreeNow=!1,this.isObserving=!1,this.proxifiedObjectsMap=new Map,this.parenthoodMap=new Map,"boolean"!=typeof e&&(e=!0),this.showDetachedWarning=e,this.originalObject=t,this.cachedProxy=null,this.isRecording=!1,this.resume=i.bind(this),this.pause=s.bind(this)}return a.deepClone=t,a.escapePathComponent=e,a.prototype.generateProxyAtPath=function(t,e,n){var i=this;if(!e)return e;var s={set:function(t,e,n){return r(i,t,e,n)},deleteProperty:function(t,e){return o(i,t,e)}},a=Proxy.revocable(e,s);return a.trapsInstance=s,a.originalObject=e,this.parenthoodMap.set(e,{parent:t,path:n}),this.proxifiedObjectsMap.set(a.proxy,a),a.proxy},a.prototype.A=function(t,n,r){for(var o in n)n.hasOwnProperty(o)&&n[o]instanceof Object&&(n[o]=this.A(n,n[o],e(o)));return this.generateProxyAtPath(t,n,r)},a.prototype.proxifyObjectTree=function(t){this.pause(),this.isProxifyingTreeNow=!0;var e=this.A(void 0,t,"");return this.isProxifyingTreeNow=!1,this.resume(),e},a.prototype.disableTrapsForProxy=function(t){if(this.showDetachedWarning){var e="You're accessing an object that is detached from the observedObject tree, see https://github.com/Palindrom/JSONPatcherProxy#detached-objects";t.trapsInstance.set=function(t,n,r){return console.warn(e),Reflect.set(t,n,r)},t.trapsInstance.set=function(t,n,r){return console.warn(e),Reflect.set(t,n,r)},t.trapsInstance.deleteProperty=function(t,e){return Reflect.deleteProperty(t,e)}}else delete t.trapsInstance.set,delete t.trapsInstance.get,delete t.trapsInstance.deleteProperty},a.prototype.observe=function(t,e){if(!t&&!e)throw Error("You need to either record changes or pass a callback");return this.isRecording=t,this.userCallback=e,t&&(this.patches=[]),this.cachedProxy=this.proxifyObjectTree(this.originalObject)},a.prototype.generate=function(){if(!this.isRecording)throw Error("You should set record to true to get patches later");return this.patches.splice(0,this.patches.length)},a.prototype.revoke=function(){this.proxifiedObjectsMap.forEach(function(t){t.revoke()})},a.prototype.disableTraps=function(){this.proxifiedObjectsMap.forEach(this.disableTrapsForProxy,this)},a}(),st=[],at=[],ct={},lt=[],ut=0,pt=function(t){function e(){N(this,e);var n=M(this,t.call(this));return n.props=Object.assign(a(n.constructor.props),n.constructor.defaultProps),n.I=ut++,n.data=n.constructor.data||{},n}return k(e,t),e.prototype.connectedCallback=function(){if(!this.constructor.pure){var t=this.parentNode;while(t&&!this.store)this.store=t.store,t=t.parentNode||t.host;this.store&&this.store.instances.push(this)}!this.B&&this.install();var e;if(this.shadowRoot){e=this.shadowRoot;var r;while(r=e.firstChild)e.removeChild(r)}else e=this.attachShadow({mode:"open"});this.css&&e.appendChild(n(this.css())),!this.B&&this.beforeRender(),Q.afterInstall&&Q.afterInstall(this),this.constructor.observe&&T(this),this.host=y(null,this.render(this.props,this.data,this.store),{},!1,null,!1),s(this.host)?this.host.forEach(function(t){e.appendChild(t)}):e.appendChild(this.host),!this.B&&this.installed(),this.B=!0},e.prototype.disconnectedCallback=function(){if(this.uninstall(),this.store)for(var t=0,e=this.store.instances.length;t<e;t++)if(this.store.instances[t]===this){this.store.instances.splice(t,1);break}},e.prototype.update=function(){this.beforeUpdate(),this.beforeRender(),this.host=y(this.host,this.render(this.props,this.data,this.store),null,null,this.shadowRoot),this.afterUpdate()},e.prototype.fire=function(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e}))},e.prototype.install=function(){},e.prototype.installed=function(){},e.prototype.uninstall=function(){},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.beforeRender=function(){},e}(HTMLElement);pt.is="WeElement";var ft=pt,ht={tag:X,WeElement:pt,Component:ft,render:_,h:e,createElement:e,options:Q,define:U,observe:E,cloneElement:$,getHost:z,rpx:K,tick:j,nextTick:C};Q.root.Omi=ht,Q.root.Omi.version="4.1.2","undefined"!=typeof module?module.exports=ht:self.Omi=ht}();
//# sourceMappingURL=omi.min.js.map