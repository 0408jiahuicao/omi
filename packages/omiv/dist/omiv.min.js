!function(){"use strict";function t(t,n,o){var i=[];c(t)&&(0===t.length&&(t.S={T:t,U:"#"}),r(t,t));for(var s in t)t.hasOwnProperty(s)&&(o?c(n)&&u(n,s)?(i.push(s),e(t,s,null,t)):f(n)&&s===n&&(i.push(s),e(t,s,null,t)):(i.push(s),e(t,s,null,t)));t.V||(t.V=[]),t.V.push({all:!o,propChanged:o||n,eventPropArr:i})}function r(t,r){O.forEach(function(i){t[i]=function(){var t=Array.prototype.slice.call(this,0),c=Array.prototype[i].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+i+"\\b").test(j)){for(var f in this)this.hasOwnProperty(f)&&!o(this[f])&&e(this,f,this.S.U,r);n("Array-"+i,this,t,this,this.S.U,r)}return c},t["pure"+i.substring(0,1).toUpperCase()+i.substring(1)]=function(){return Array.prototype[i].apply(this,Array.prototype.slice.call(arguments))}})}function e(t,n,i,f){if("__o_"!==n&&!o(t[n])){t.S||(t.S={T:f}),t.S.U=void 0!==i&&null!==i?i:"#";var u=t.S[n]=t[n];if("object"==typeof u){c(u)&&(r(u,f),0===u.length&&(u.S||(u.S={}),u.S.U=void 0!==i&&null!==i?i+"-"+n:"#-"+n));for(var s in u)u.hasOwnProperty(s)&&e(u,s,t.S.U+"-"+n,f)}}}function n(t,r,n,o,c,f){if(r!==n&&(!i(r)||!i(n))&&f.V)for(var a=s(t,c),p=0,l=f.V.length;p<l;p++){var h=f.V[p];(h.all||u(h.eventPropArr,a)||0===a.indexOf("Array-"))&&h.propChanged.call(o,t,r,n,c)}0!==t.indexOf("Array-")&&"object"==typeof r&&e(o,t,o.S.U,f)}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t){return"number"==typeof t&&isNaN(t)}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){return"string"==typeof t}function u(t,r){for(var e=t.length;--e>-1;)if(r===t[e])return!0;return!1}function s(t,r){return"#"===r?t:r.split("-")[1]}function a(t){if("[object Array]"===Object.prototype.toString.call(t)){var r={};return t.forEach(function(t){if("string"==typeof t)r[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?r[e]=!0:"string"==typeof e[0]?r[e[0]]=!0:e[0].forEach(function(t){return r[t]=!0})}}),r}return p(t)}function p(t){var r={};return l(t,r),r}function l(t,r){Object.keys(t).forEach(function(e){r[e]=!0;var n=Object.prototype.toString.call(t[e]);"[object Object]"===n?h(t[e],e,r):"[object Array]"===n&&y(t[e],e,r)})}function h(t,r,e){Object.keys(t).forEach(function(n){e[r+"."+n]=!0,delete e[r];var o=Object.prototype.toString.call(t[n]);"[object Object]"===o?h(t[n],r+"."+n,e):"[object Array]"===o&&y(t[n],r+"."+n,e)})}function y(t,r,e){t.forEach(function(t,n){e[r+"["+n+"]"]=!0,delete e[r];var o=Object.prototype.toString.call(t);"[object Object]"===o?h(t,r+"["+n+"]",e):"[object Array]"===o&&y(t,r+"["+n+"]",e)})}function d(t,r){for(var e in t){if(r[e])return!0;for(var n in r)if(v(e,n))return!0}return!1}function v(t,r){if(0===t.indexOf(r)){var e=t.substr(r.length,1);if("["===e||"."===e)return!0}return!1}function b(t){var r="";return t.replace("#-","").split("-").forEach(function(t,e){e?isNaN(+t)?r+="."+t:r+="["+t+"]":r+=t}),r}function g(r){var e=r.beforeCreate,n=r.destroyed,o=r.use,i=r.useSelf;return r.computed=r.computed||{},r.store&&(A=r.store,t(A.data,function(t,r,e,n){var o={};o[b(n+"-"+t)]=!0,E.forEach(function(t){t.W&&d(o,t.W)&&S(t)}),U.forEach(function(t){t.Y&&d(o,t.Y)&&t.$forceUpdate()})})),r.beforeCreate=function(){this.$store=A,o&&(this.W=a(o),E.push(this)),i&&(this.Y=a(i),U.push(this)),e&&e.apply(this,arguments)},r.destroyed=function(){for(var t=0,r=E.length;t<r;t++)if(E[t]===this){E.splice(t,1);break}n&&n.apply(this,arguments)},r.computed.state=function(){return this.$store.data},r.computed.store=function(){return this.$store},r}function S(t){t.$forceUpdate(),t.$children.forEach(function(t){S(t)})}var j="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size",O=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];t.add=function(t,r){e(t,r,t.S.U,t.S.T)},t.set=function(t,r,n){e(t,r,t.S.U,t.S.T),t[r]=n},Array.prototype.size=function(t){this.length=t};var A,E=[],U=[],m={$:g};"undefined"!=typeof module?module.exports=m:self.Omiv=m}();
//# sourceMappingURL=omiv.min.js.map