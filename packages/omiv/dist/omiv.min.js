!function(){"use strict";function t(t,o,r){var i=[];s(t)&&(0===t.length&&(t.__o_={__r_:t,__p_:"#"}),e(t,t));for(var a in t)t.hasOwnProperty(a)&&(r?s(o)&&f(o,a)?(i.push(a),n(t,a,null,t)):_(o)&&a===o&&(i.push(a),n(t,a,null,t)):(i.push(a),n(t,a,null,t)));t.__c_||(t.__c_=[]),t.__c_.push({all:!r,propChanged:r||o,eventPropArr:i})}function e(t,e){O.forEach(function(i){t[i]=function(){var t=Array.prototype.slice.call(this,0),s=Array.prototype[i].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+i+"\\b").test(S)){for(var _ in this)this.hasOwnProperty(_)&&!r(this[_])&&n(this,_,this.__o_.__p_,e);o("Array-"+i,this,t,this,this.__o_.__p_,e)}return s},t["pure"+i.substring(0,1).toUpperCase()+i.substring(1)]=function(){return Array.prototype[i].apply(this,Array.prototype.slice.call(arguments))}})}function n(t,i,_,f){if("__o_"!==i&&!r(t[i])){t.__o_||(t.__o_={__r_:f}),t.__o_.__p_=void 0!==_&&null!==_?_:"#";var a=t.__o_[i]=t[i];if(Object.defineProperty(t,i,{get:function(){return this.__o_[i]},set:function(e){var n=this.__o_[i];this.__o_[i]=e,o(i,e,n,this,t.__o_.__p_,f)},configurable:!0,enumerable:!0}),"object"==typeof a){s(a)&&(e(a,f),0===a.length&&(a.__o_||(a.__o_={}),a.__o_.__p_=void 0!==_&&null!==_?_+"-"+i:"#-"+i));for(var u in a)a.hasOwnProperty(u)&&n(a,u,t.__o_.__p_+"-"+i,f)}}}function o(t,e,o,r,s,_){if(e!==o&&(!i(e)||!i(o))&&_.__c_)for(var u=a(t,s),p=0,c=_.__c_.length;p<c;p++){var h=_.__c_[p];(h.all||f(h.eventPropArr,u)||0===u.indexOf("Array-"))&&h.propChanged.call(r,t,e,o,s)}0!==t.indexOf("Array-")&&"object"==typeof e&&n(r,t,r.__o_.__p_,_)}function r(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t){return"number"==typeof t&&isNaN(t)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function _(t){return"string"==typeof t}function f(t,e){for(var n=t.length;--n>-1;)if(e===t[n])return!0;return!1}function a(t,e){return"#"===e?t:e.split("-")[1]}function u(t,e,n){var o={};return t.forEach(function(t){if("string"==typeof t)o[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?o[e]=!0:"string"==typeof e[0]?o[e[0]]=!0:e[0].forEach(function(t){return o[t]=!0})}}),e&&(e[n]=o),o}function p(t,e){for(var n in t){if(e[n])return!0;for(var o in e)if(c(n,o))return!0}return!1}function c(t,e){if(0===t.indexOf(e)){var n=t.substr(e.length,1);if("["===n||"."===n)return!0}return!1}function h(t){var e="";return t.replace("#-","").split("-").forEach(function(t,n){n?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t}),e}function l(t){var e=t.beforeCreate,n=t.destroyed,o=t.use,r=t.useSelf;return t.computed=t.computed||{},t.store&&$(t.store),t.beforeCreate=function(){if(this.$store=P,E){if(o){var t={};for(var n in o)u(o[n],t,n),P[n].components.push(this);this.__$updatePath_=t}if(r){var i={};for(var s in r)u(r[s],i,s),P[s].updateSelfComponents.push(this);this.__$updateSelfPath_=i}}else o&&(this.__$updatePath_=u(o),P.components.push(this)),r&&(this.__$updateSelfPath_=u(r),P.updateSelfComponents.push(this));e&&e.apply(this,arguments)},t.destroyed=function(){if(E)for(var t in P)y(this,P[t].components),y(this,P[t].updateSelfComponents);else y(this,P.updateSelfComponents),y(this,P.components);n&&n.apply(this,arguments)},t.computed.state=function(){if(E){var t={};return Object.keys(P).forEach(function(e){t[e]=P[e].data}),t}return P.data},t.computed.store=function(){return P},t}function d(t){t.$forceUpdate(),t.$children.forEach(function(t){d(t)})}function v(e,n){e.components=[],e.updateSelfComponents=[],t(e.data,function(t,o,r,i){var s={};s[h(i+"-"+t)]=!0,e.components.forEach(function(t){var e=t.__$updatePath_;n?e&&e[n]&&p(s,e[n])&&d(t):e&&p(s,e)&&d(t)}),e.updateSelfComponents.forEach(function(t){var e=t.__$updateSelfPath_;n?e&&e[n]&&p(s,e[n])&&t.$forceUpdate():e&&p(s,e)&&t.$forceUpdate()})})}function y(t,e){for(var n=0,o=e.length;n<o;n++)if(e[n]===t){e.splice(n,1);break}}function m(t,e,n,o){if(C)return n=n||P,$(n),new C(Object.assign({render:function(e){return e(t)}},o,n?{store:n}:{})).$mount(e);"production"!==process.env.NODE_ENV&&console.error("[Omiv] has not been installed yet. Vue.use(Omiv) should be called first.")}function $(t){if(t)if(P=t,P.data)E=!1,v(P);else{E=!0;for(var e in P)P[e].data&&v(P[e],e)}else P=void 0}function b(t){C=t,g(C)}function g(t){function e(){var t=this.$options,e=t.use,n=t.useSelf;if(t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store),this.$store&&!P&&$(this.$store),E){if(e){var o={};for(var r in e)u(e[r],o,r),this.$store[r].components.push(this);this.__$updatePath_=o}if(n){var i={};for(var s in n)u(n[s],i,s),this.$store[s].updateSelfComponents.push(this);this.__$updateSelfPath_=i}}else e&&(this.__$updatePath_=u(e),this.$store.components.push(this)),n&&(this.__$updateSelfPath_=u(n),this.$store.updateSelfComponents.push(this))}function n(){if(E)for(var t in this.$store)y(this,this.$store[t].components),y(this,this.$store[t].updateSelfComponents);else y(this,this.$store.updateSelfComponents),y(this,this.$store.components)}t.mixin({beforeCreate:e,computed:{$state:function(){if(E){var t={};return Object.keys(this.$store).forEach(function(e){t[e]=P[e].data}),t}return this.$store.data}},destroyed:n})}var S="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size",O=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];t.add=function(t,e){n(t,e,t.__o_.__p_,t.__o_.__r_)},t.set=function(t,e,o){n(t,e,t.__o_.__p_,t.__o_.__r_),t[e]=o},Array.prototype.size=function(t){this.length=t};var C,P,E=!1,j={$:l,render:m,reset:$,install:b};"undefined"!=typeof module?module.exports=j:self.Omiv=j}();
//# sourceMappingURL=omiv.min.js.map