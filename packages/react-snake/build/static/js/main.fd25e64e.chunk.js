(window["webpackJsonpreact-snake"]=window["webpackJsonpreact-snake"]||[]).push([[0],[,,,function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return E}));var r=e(0),a=e.n(r);function i(n,t,e){var r=[];for(var a in h(n)&&(0===n.length&&(n.__o_={__r_:n,__p_:"#"}),l(n,n)),n)n.hasOwnProperty(a)&&(e?h(t)&&d(t,a)?(r.push(a),c(n,a,null,n)):"string"===typeof t&&a===t&&(r.push(a),c(n,a,null,n)):(r.push(a),c(n,a,null,n)));n.__c_||(n.__c_=[]);var i=e||t;n.__c_.push({all:!e,propChanged:i,eventPropArr:r})}var o=["concat","copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift","size"].join(","),s=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];function l(n,t){s.forEach((function(e){n[e]=function(){var n=Array.prototype.slice.call(this,0),r=Array.prototype[e].apply(this,Array.prototype.slice.call(arguments));if(new RegExp("\\b"+e+"\\b").test(o)){for(var a in this)this.hasOwnProperty(a)&&!p(this[a])&&c(this,a,this.__o_.__p_,t);u("Array-"+e,this,n,this,this.__o_.__p_,t)}return r},n["pure"+e.substring(0,1).toUpperCase()+e.substring(1)]=function(){return Array.prototype[e].apply(this,Array.prototype.slice.call(arguments))}}))}function c(n,t,e,r){if("__o_"!==t&&!p(n[t])){n.__o_||(n.__o_={__r_:r}),n.__o_.__p_=void 0!==e&&null!==e?e:"#";var a=n.__o_[t]=n[t];if(Object.defineProperty(n,t,{get:function(){return this.__o_[t]},set:function(e){var a=this.__o_[t];this.__o_[t]=e,u(t,e,a,this,n.__o_.__p_,r)},configurable:!0,enumerable:!0}),"object"===typeof a)for(var i in h(a)&&(l(a,r),0===a.length&&(a.__o_||(a.__o_={}),a.__o_.__p_=void 0!==e&&null!==e?e+"-"+t:"#-"+t)),a)a.hasOwnProperty(i)&&c(a,i,n.__o_.__p_+"-"+t,r)}}function u(n,t,e,r,a,i){if(t!==e&&(!f(t)||!f(e))&&i.__c_)for(var o=function(n,t){if("#"===t)return n;return t.split("-")[1]}(n,a),s=0,l=i.__c_.length;s<l;s++){var u=i.__c_[s];(u.all||d(u.eventPropArr,o)||0===o.indexOf("Array-"))&&u.propChanged.call(r,n,t,e,a)}0!==n.indexOf("Array-")&&"object"===typeof t&&c(r,n,r.__o_.__p_,i)}function p(n){return"[object Function]"===Object.prototype.toString.call(n)}function f(n){return"number"===typeof n&&isNaN(n)}function h(n){return"[object Array]"===Object.prototype.toString.call(n)}function d(n,t){for(var e=n.length;--e>-1;)if(t===n[e])return!0;return!1}function b(n){if("[object Array]"===Object.prototype.toString.call(n)){var t={};return n.forEach((function(n){if("string"===typeof n)t[n]=!0;else{var e=n[Object.keys(n)[0]];"string"===typeof e?t[e]=!0:"string"===typeof e[0]?t[e[0]]=!0:e[0].forEach((function(n){return t[n]=!0}))}})),t}return function(n){var t={};return function(n,t){Object.keys(n).forEach((function(e){t[e]=!0;var r=Object.prototype.toString.call(n[e]);"[object Object]"===r?_(n[e],e,t):"[object Array]"===r&&m(n[e],e,t)}))}(n,t),t}(n)}function _(n,t,e){Object.keys(n).forEach((function(r){e[t+"."+r]=!0,delete e[t];var a=Object.prototype.toString.call(n[r]);"[object Object]"===a?_(n[r],t+"."+r,e):"[object Array]"===a&&m(n[r],t+"."+r,e)}))}function m(n,t,e){n.forEach((function(n,r){e[t+"["+r+"]"]=!0,delete e[t];var a=Object.prototype.toString.call(n);"[object Object]"===a?_(n,t+"["+r+"]",e):"[object Array]"===a&&m(n,t+"["+r+"]",e)}))}function y(n,t){for(var e in n){if(t[e])return!0;for(var r in t)if(g(e,r))return!0}return!1}function g(n,t){if(0===n.indexOf(t)){var e=n.substr(t.length,1);if("["===e||"."===e)return!0}return!1}i.add=function(n,t){c(n,t,n.__o_.__p_,n.__o_.__r_)},i.set=function(n,t,e){c(n,t,n.__o_.__p_,n.__o_.__r_),n[t]=e},Array.prototype.size=function(n){this.length=n};var x=[],v=[],k=!1,w=null;function E(n){n.store&&(E.store=n.store,i(E.store.data,(function(n,t,e,r){var a={};a[function(n){var t="";return n.replace("#-","").split("-").forEach((function(n,e){e?isNaN(Number(n))?t+="."+n:t+="["+n+"]":t+=n})),t}(r+"-"+n)]=!0,x.forEach((function(n){n.__$updatePath_&&y(a,n.__$updatePath_)&&(n.setState({__$id_:n.state.__$id_++}),k=!1)})),v.forEach((function(n){n.__$updateSelfPath_&&y(a,n.__$updateSelfPath_)&&(n.setState({__$id_:n.state.__$id_++}),k=!0,w=n)}))})));var t=n.use&&b(n.use),e=n.useSelf&&b(n.useSelf);return function(r){function a(n){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?n:t}(this,r.call(this,n));return i.state={__$id_:0},t&&(x.push(i),i.__$updatePath_=t),e&&(v.push(i),i.__$updateSelfPath_=e),i}return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(a,r),a.prototype.shouldComponentUpdate=function(){return w===this||!k},a.prototype.render=function(){return n.render.apply(this,arguments)},a}(a.a.Component)}var j=function(){if("object"!==typeof n||!n||n.Math!==Math||n.Array!==Array)return self||window||n||function(){return this}();return n}(),O={$:E,$v:function(n){}};j.Omis=O,j.omis=O,j.Omis.version="2.0.0"}).call(this,e(13))},,function(n,t,e){"use strict";function r(n){var t=document.createElement("style");t.textContent=n.replace(/([1-9]\d*|0)(\.\d*)*rpx/g,(function(n,t){return window.innerWidth*Number(t)/750+"px"})),document.querySelector("head").appendChild(t)}e.r(t),e.d(t,"add",(function(){return r}))},,,function(n,t,e){n.exports=e(19)},,,,,,function(n,t,e){var r=e(15);n.exports="string"===typeof r?r:r.toString()},function(n,t,e){(n.exports=e(6)(!1)).push([n.i,'.game {\n\n  border: 2rpx solid #000;\n  padding: 10rpx 0 5rpx 0;\n  width: 725rpx;\n  margin: 10rpx auto;\n  background-color: #9ead86;\n  text-align: center;\n}\n\n.game p {\n  width: 725rpx;\n  height: 44rpx;\n  white-space: nowrap;\n  margin: 0;\n  padding: 0;\n}\n\n*{\n  box-sizing: border-box;\n}\n\n.game b {\n  display: inline-block;\n  width: 40rpx;\n  height: 40rpx;\n  padding: 4rpx;\n  border: 4rpx solid #879372;\n  margin: 0 4rpx 4rpx 0;\n}\n\n.game b.s:after {\n  background: #000;\n}\n\n.game b:after {\n  content: "";\n  display: block;\n  width: 24rpx;\n  height: 24rpx;\n  background: #879372;\n  overflow: hidden;\n}\n',""])},function(n,t,e){var r=e(17);n.exports="string"===typeof r?r:r.toString()},function(n,t,e){(n.exports=e(6)(!1)).push([n.i,'.r {\n  float: right\n}\n\n.l {\n  float: left\n}\n\n.clear {\n  clear: both\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none\n}\n\nh1{\n  text-align: center;\n}\n\n.ctrl {\n  width: 580rpx;\n  height: 330rpx;\n  margin: 20rpx auto 0;\n  position: relative\n}\n\n.btn {\n  text-align: center;\n  color: #111;\n  position: absolute;\n  white-space: nowrap;\n  line-height: 1.6\n}\n\n.btn.small {\n  font-size: 16rpx\n}\n\n\n\n.btn i {\n  display: block;\n  position: relative;\n  border: 1rpx solid #000;\n  border-radius: 50%;\n  box-shadow: 0 3rpx 3rpx rgba(0, 0, 0, .2)\n}\n\n.btn i:after,\n.btn i:before {\n  content: "";\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 50%;\n  box-shadow: inset 0 5rpx 10rpx hsla(0, 0%, 100%, .8)\n}\n\n.btn i:after {\n  box-shadow: inset 0 -5rpx 10rpx rgba(0, 0, 0, .8)\n}\n\n.btn i._23aw:before {\n  box-shadow: inset 0 -3rpx 6rpx hsla(0, 0%, 100%, .6)\n}\n\n.btn i._23aw:after {\n  box-shadow: inset 0 5rpx 5rpx rgba(0, 0, 0, .6)\n}\n\n.btn.cm-btn i {\n  background: #5a65f1;\n  background: -moz-linear-gradient(top, #6e77ef, #6e77ef)\n}\n\n.btn.pp i {\n  background: #2dc421;\n  background: -moz-linear-gradient(top, #4bc441, #4bc441)\n}\n\n.btn.reset i {\n  background: #dd1a1a;\n  background: -moz-linear-gradient(top, #dc3333, #dc3333)\n}\n\n.btn.space i {\n  width: 160rpx;\n  height: 160rpx\n}\n\n\n.btn i:active {\n  transform: scale(0.9);\n}\n\n\n.btn.cm-btn-dir i {\n  width: 100rpx;\n  height: 100rpx\n}\n\n.btn.small i {\n  width: 52rpx;\n  height: 52rpx;\n  box-shadow: 1rpx 1rpx 1rpx rgba(0, 0, 0, .2)\n}\n\n.btn.small i:after,\n.btn.small i:before {\n  box-shadow: inset 0 3rpx 6rpx hsla(0, 0%, 100%, .8)\n}\n\n.btn.small i:after {\n  box-shadow: inset 0 -3rpx 6rpx rgba(0, 0, 0, .8)\n}\n\n.btn.small i._23aw:before {\n  box-shadow: inset 0 -1rpx 2rpx hsla(0, 0%, 100%, .6)\n}\n\n.btn.small i._23aw:after {\n  box-shadow: inset 0 3rpx 3rpx rgba(0, 0, 0, .7)\n}\n\n.btn.cm-btn-dir em {\n  display: block;\n  width: 0;\n  height: 0;\n  border: 8rpx solid;\n  border-color: transparent transparent #111;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -18rpx 0 0 -8rpx\n}\n\n\n.up {\n  top: 0rpx; \n  left: 374rpx;\n}\n\n.up em{\n  transform: translate(0rpx, 70rpx) scale(1, 2);\n}\n\n\n.up span {\n  position: absolute;\n  top: 5rpx;\n  left: 102rpx\n}\n\n.down{\n  top: 180rpx; \n  left: 374rpx;\n}\n\n.down em{\n  transform: translate(0rpx, -71rpx) rotate(180deg) scale(1, 2);\n}\n\n.left{\n  top: 90rpx; \n  left: 284rpx;\n}\n\n.left em{\n  transform: translate(60rpx, -12rpx) rotate(270deg) scale(1, 2);\n}\n\n.right{\n  top: 90rpx; left: 464rpx;\n}\n\n.right em{\n  transform: translate(-60rpx, -12rpx) rotate(90deg) scale(1, 2);\n}\n\n.space{\n  top: 100rpx; \n  left: 52rpx;\n}\n\n.reset{\n  top: 0rpx; \n  left: 156rpx;\n}\n\n.pp{\n  top: 0rpx; \n  left: 60rpx;\n}\n',""])},function(n,t,e){},function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),i=e(7),o=e.n(i),s=e(3);e(5).add(e(14));var l=Object(s.a)({render:function(){var n=s.a.store.data.map;return a.a.createElement("div",{className:"game"},n.map((function(n){return a.a.createElement("p",null,n.map((function(n){return n?a.a.createElement("b",{className:"s"}):a.a.createElement("b",null)})))})))},use:["map"]}),c=e(1),u=e(2),p=function(){function n(){Object(c.a)(this,n),this.body=[3,1,2,1,1,1],this.dir="right"}return Object(u.a)(n,[{key:"move",value:function(n){var t=this.body;switch(n||(t.pop(),t.pop()),this.dir){case"up":t.unshift(t[0],t[1]-1);break;case"right":t.unshift(t[0]+1,t[1]);break;case"down":t.unshift(t[0],t[1]+1);break;case"left":t.unshift(t[0]-1,t[1])}}},{key:"turnUp",value:function(){"down"!==this.dir&&(this.dir="up")}},{key:"turnRight",value:function(){"left"!==this.dir&&(this.dir="right")}},{key:"turnDown",value:function(){"up"!==this.dir&&(this.dir="down")}},{key:"turnLeft",value:function(){"right"!==this.dir&&(this.dir="left")}}]),n}(),f=new(function(){function n(){Object(c.a)(this,n),this.map=[],this.size=16,this.loop=null,this.interval=500,this.paused=!1,this._preDate=Date.now(),this.init(),this.onTick=null}return Object(u.a)(n,[{key:"init",value:function(){this.snake=new p;for(var n=0;n<this.size;n++){for(var t=[],e=0;e<this.size;e++)t.push(0);this.map.push(t)}}},{key:"tick",value:function(){this.makeFood();var n=this.eat();this.snake.move(n),this.mark()}},{key:"mark",value:function(){for(var n=this.map,t=0;t<this.size;t++)for(var e=0;e<this.size;e++)n[t][e]=0;for(var r=0,a=this.snake.body.length;r<a;r+=2)this.snake.body[r+1]%=this.size,this.snake.body[r]%=this.size,this.snake.body[r+1]<0&&(this.snake.body[r+1]+=this.size),this.snake.body[r]<0&&(this.snake.body[r]+=this.size),n[this.snake.body[r+1]][this.snake.body[r]]=1;this.food&&(n[this.food[1]][this.food[0]]=1)}},{key:"start",value:function(){var n=this;this.loop=setInterval((function(){Date.now()-n._preDate>n.interval&&(n._preDate=Date.now(),n.paused||(n.tick(),n.onTick&&n.onTick()))}),16)}},{key:"stop",value:function(){clearInterval(this.loop)}},{key:"pause",value:function(){this.paused=!0}},{key:"play",value:function(){this.paused=!1}},{key:"reset",value:function(){this.paused=!1,this.interval=500,this.snake.body=[3,1,2,1,1,1],this.food=null,this.snake.dir="right"}},{key:"toggleSpeed",value:function(){500===this.interval?this.interval=150:this.interval=500}},{key:"makeFood",value:function(){if(!this.food){this.food=[this._rd(0,this.size-1),this._rd(0,this.size-1)];for(var n=0,t=this.snake.body.length;n<t;n+=2)if(this.snake.body[n+1]===this.food[1]&&this.snake.body[n]===this.food[0]){this.food=null,this.makeFood();break}}}},{key:"eat",value:function(){for(var n=0,t=this.snake.body.length;n<t;n+=2)if(this.snake.body[n+1]===this.food[1]&&this.snake.body[n]===this.food[0])return this.food=null,!0}},{key:"_rd",value:function(n,t){return n+Math.floor(Math.random()*(t+1))}}]),n}()),h=f.snake,d=f.map;f.start();var b=new(function(){function n(){var t=this;Object(c.a)(this,n),this.data={map:d,paused:!1},this.pauseOrPlay=function(){f.paused?(f.play(),t.data.paused=!1):(f.pause(),t.data.paused=!0)}}return Object(u.a)(n,[{key:"turnUp",value:function(){h.turnUp()}},{key:"turnRight",value:function(){h.turnRight()}},{key:"turnDown",value:function(){h.turnDown()}},{key:"turnLeft",value:function(){h.turnLeft()}},{key:"reset",value:function(){f.reset()}},{key:"toggleSpeed",value:function(){f.toggleSpeed()}}]),n}());e(5).add(e(16));var _=Object(s.a)({render:function(){var n=s.a.store,t=n.data.paused;return a.a.createElement("div",{className:"container"},a.a.createElement("h1",null,"REACT + OMIS SNAKE"),a.a.createElement(l,null),a.a.createElement("div",{className:"ctrl"},a.a.createElement("div",{className:"btn cm-btn cm-btn-dir up",onClick:n.turnUp},a.a.createElement("i",null),a.a.createElement("em",null),a.a.createElement("span",null,"Up")),a.a.createElement("div",{className:"btn cm-btn cm-btn-dir down",onClick:n.turnDown},a.a.createElement("i",null),a.a.createElement("em",null),a.a.createElement("span",null,"Down")),a.a.createElement("div",{className:"btn cm-btn cm-btn-dir left",onClick:n.turnLeft},a.a.createElement("i",null),a.a.createElement("em",null),a.a.createElement("span",null,"Left")),a.a.createElement("div",{className:"btn cm-btn cm-btn-dir right",onClick:n.turnRight},a.a.createElement("i",null),a.a.createElement("em",null),a.a.createElement("span",null,"Right")),a.a.createElement("div",{className:"btn cm-btn space",onClick:n.toggleSpeed},a.a.createElement("i",null),a.a.createElement("span",null,"\u52a0\u901f/\u51cf\u901f")),a.a.createElement("div",{className:"btn reset small",onClick:n.reset},a.a.createElement("i",null),a.a.createElement("span",null,"Reset")),a.a.createElement("div",{className:"btn pp small",onClick:n.pauseOrPlay},a.a.createElement("i",null),a.a.createElement("span",null,t?"Play":"Pause"))))},useSelf:["paused"],store:b});e(18);o.a.render(a.a.createElement(_,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.fd25e64e.chunk.js.map