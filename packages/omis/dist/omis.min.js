!function(t){"use strict";function e(t,e,o){var i=[];u(t)&&(0===t.length&&(t.S={T:t,U:"#"}),n(t,t));for(var s in t)t.hasOwnProperty(s)&&(o?u(e)&&p(e,s)?(i.push(s),r(t,s,null,t)):f(e)&&s===e&&(i.push(s),r(t,s,null,t)):(i.push(s),r(t,s,null,t)));t.V||(t.V=[]),t.V.push({all:!o,propChanged:o||e,eventPropArr:i})}function n(t,e){A.forEach(function(n){t[n]=function(){var t=Array.prototype.slice.call(this,0),s=Array.prototype[n].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+n+"\\b").test(j)){for(var u in this)this.hasOwnProperty(u)&&!i(this[u])&&r(this,u,this.S.U,e);o("Array-"+n,this,t,this,this.S.U,e)}return s},t["pure"+n.substring(0,1).toUpperCase()+n.substring(1)]=function(){return Array.prototype[n].apply(this,Array.prototype.slice.call(arguments))}})}function r(t,e,o,s){if("__o_"!==e&&!i(t[e])){t.S||(t.S={T:s}),t.S.U=void 0!==o&&null!==o?o:"#";var f=t.S[e]=t[e];if("object"==typeof f){u(f)&&(n(f,s),0===f.length&&(f.S||(f.S={}),f.S.U=void 0!==o&&null!==o?o+"-"+e:"#-"+e));for(var p in f)f.hasOwnProperty(p)&&r(f,p,t.S.U+"-"+e,s)}}}function o(t,e,n,o,i,u){if(e!==n&&(!s(e)||!s(n))&&u.V)for(var f=a(t,i),c=0,l=u.V.length;c<l;c++){var h=u.V[c];(h.all||p(h.eventPropArr,f)||0===f.indexOf("Array-"))&&h.propChanged.call(o,t,e,n,i)}0!==t.indexOf("Array-")&&"object"==typeof e&&r(o,t,o.S.U,u)}function i(t){return"[object Function]"===Object.prototype.toString.call(t)}function s(t){return"number"==typeof t&&isNaN(t)}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){return"string"==typeof t}function p(t,e){for(var n=t.length;--n>-1;)if(e===t[n])return!0;return!1}function a(t,e){return"#"===e?t:e.split("-")[1]}function c(t,e,n){var r={};return t.forEach(function(t){if("string"==typeof t)r[t]=!0;else{var e=t[Object.keys(t)[0]];"string"==typeof e?r[e]=!0:"string"==typeof e[0]?r[e[0]]=!0:e[0].forEach(function(t){return r[t]=!0})}}),e&&(e[n]=r),r}function l(t,e){for(var n in t){if(e[n])return!0;for(var r in e)if(h(n,r))return!0}return!1}function h(t,e){if(0===t.indexOf(e)){var n=t.substr(e.length,1);if("["===n||"."===n)return!0}return!1}function y(t){var e="";return t.replace("#-","").split("-").forEach(function(t,n){n?isNaN(+t)?e+="."+t:e+="["+t+"]":e+=t}),e}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(e){var n,r;if(e.store)if(b.store=e.store,b.store.data)m(b.store);else{E=!0;for(var o in b.store)b.store[o].data&&m(b.store[o],o)}return r=n=function(t){function n(r){v(this,n);var o=d(this,t.call(this,r));if(o.state={X:0},E){if(e.use){var i={};for(var s in e.use)c(e.use[s],i,s),b.store[s].components.push(o);o.W=i}if(e.useSelf){var u={};for(var f in e.useSelf)c(e.useSelf[f],u,f),b.store[f].updateSelfComponents.push(o);o.Y=u}}else e.use&&(b.store.components.push(o),o.W=c(e.use)),e.useSelf&&(b.store.updateSelfComponents.push(o),o.Y=c(e.useSelf));return o}return S(n,t),n.prototype.shouldComponentUpdate=function(){return C===this||!U},n.prototype.componentWillUnmount=function(){g(this,b.store.components),g(this,b.store.updateSelfComponents)},n.prototype.render=function(){return e.render.apply(this,arguments)},n}(t.Component),n.css=e.css,r}function g(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t){e.splice(n,1);break}}function m(t,n){t.components=[],t.updateSelfComponents=[],e(t.data,function(e,r,o,i){var s={};s[y(i+"-"+e)]=!0,t.components.forEach(function(t){var e=t.W;n?e&&e[n]&&l(s,e[n])&&(O(t),U=!1):e&&l(s,e)&&(O(t),U=!1)}),t.updateSelfComponents.forEach(function(t){var e=t.Y;n?e&&e[n]&&l(s,e[n])&&(O(t),U=!0,C=t):e&&l(s,e)&&(O(t),U=!0,C=t)})})}function O(t){t.setState({X:t.state.X++})}var j="concat,copyWithin,fill,pop,push,reverse,shift,sort,splice,unshift,size",A=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"];e.add=function(t,e){r(t,e,t.S.U,t.S.T)},e.set=function(t,e,n){r(t,e,t.S.U,t.S.T),t[e]=n},Array.prototype.size=function(t){this.length=t};var U=!1,C=null,E=!1,w={$:b};"undefined"!=typeof module?module.exports=w:self.Omis=w}(React);
//# sourceMappingURL=omis.min.js.map